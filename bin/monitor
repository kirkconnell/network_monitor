#!/usr/bin/env ruby
lib_dir = File.expand_path(File.join("../lib"))

$:.unshift(lib_dir)
$:.uniq!
require 'network_monitor'

            
sock = UDPSocket.open
sock.connect(ARGV[0], 161)            
sock.send(SNMP::Request.new, 0)

resp = SNMP::Response.new(sock.recvfrom(47))
print "Received IP Datagrams: #{resp}\n"