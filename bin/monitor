#!/usr/bin/env ruby
lib_dir = File.expand_path(File.join("../lib"))

$:.unshift(lib_dir)
$:.uniq!
require 'network_monitor'


snmp_req = [0x30, 0x29, 0x02, 0x01, 0x00, 0x04, 0x06, 0x70, 0x75, 0x62, 0x6C, 0x69, 0x63, 0xA0, 0x1C, 0x02,
            0x04, 0xFF, 0xFF, 0xFF, 0xFF, 0x02, 0x01, 0x00, 0x02, 0x01, 0x00, 0x30, 0x0E, 0x30, 0x0C, 0x06,
            0x08, 0x2B, 0x06, 0x01, 0x02, 0x01, 0x04, 0x03, 0x00, 0x05, 0x00]
            
sock = UDPSocket.opn
sock.connect(ARGV[0], 161)            
sock.send(snmp_req)

data = sock.recvfrom(47)