#!/usr/bin/env ruby
lib_dir = File.expand_path(File.join("../lib"))

$:.unshift(lib_dir)
$:.uniq!
require 'network_monitor'


snmp_req = 
"\x30\x29\x02\x01\x00\x04\x06\x70\x75\x62\x6C\x69\x63\xA0\x1C\x02" +
"\x04\xFF\xFF\xFF\xFF\x02\x01\x00\x02\x01\x00\x30\x0E\x30\x0C\x06" +
"\x08\x2B\x06\x01\x02\x01\x04\x03\x00\x05\x00"
            
sock = UDPSocket.open
sock.connect(ARGV[0], 161)            
sock.send(snmp_req, 0)

data = sock.recvfrom(47)
p data.to_s